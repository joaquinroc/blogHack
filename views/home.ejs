<!DOCTYPE html>
<html lang="en">
  <head>
  <%- include ("partials/head") %> 
  </head>
  <body>
    <%- include ("partials/navbar") %> 
    <!-- Page Header-->
    <header class="masthead" style="background-image: url('img/pages/home.jpg')">
      <div class="container position-relative px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
          <div class="col-md-10 col-lg-8 col-xl-7">
            <div class="site-heading">
              <h1>Random Blog</h1>
              <span class="subheading">A blog with random users, random articles and random pics</span>
            </div>
          </div>
        </div>
      </div>
    </header>
    <!-- Main Content-->
    <div class="container px-4 px-lg-5">
      <div class="row gx-4 gx-lg-5 justify-content-center">
        <div class="col-md-10 col-lg-8 col-xl-7">
          <!-- Post preview-->
          <% for (const article of articles) { %>

          <div class="post-preview">
            <a href="/article/<%= `${article.id}` %>">
              <h2 class="post-title"><%= article.title %></h2>
              <span class="post-content-preview"> <%= article.content.slice(0, 100) %> </span>
            </a>
            <p class="post-meta">
              Posted by
              <a href="#!"> <%= article.user.firstname + ' ' + article.user.lastname %> </a>
              on <%= article.createdAt.toString().slice(0, 15) %>
            </p>
          </div>

          <% } %>
          <!-- Divider-->
          <hr class="my-4" />

          <!-- Pager-->
          <div class="d-flex justify-content-end mb-4">
            <a class="btn btn-primary text-uppercase" href="#!">Older Posts â†’</a>
          </div>
        </div>
      </div>
    </div>
    <%- include ("partials/footer") %> 
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="/js/script.js"></script>
  </body>
</html>
